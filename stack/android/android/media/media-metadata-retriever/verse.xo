
force get-metadata-key-album
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_ALBUM|
    raise build, field int

force get-metadata-key-albumartist
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_ALBUMARTIST|
    raise build, field int

force get-metadata-key-artist
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_ARTIST|
    raise build, field int

force get-metadata-key-author
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_AUTHOR|
    raise build, field int

force get-metadata-key-bitrate
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_BITRATE|
    raise build, field int

force get-metadata-key-capture-framerate
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_CAPTURE_FRAMERATE|
    raise build, field int

force get-metadata-key-cd-track-number
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_CD_TRACK_NUMBER|
    raise build, field int

force get-metadata-key-color-range
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_COLOR_RANGE|
    raise build, field int

force get-metadata-key-color-standard
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_COLOR_STANDARD|
    raise build, field int

force get-metadata-key-color-transfer
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_COLOR_TRANSFER|
    raise build, field int

force get-metadata-key-compilation
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_COMPILATION|
    raise build, field int

force get-metadata-key-composer
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_COMPOSER|
    raise build, field int

force get-metadata-key-date
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_DATE|
    raise build, field int

force get-metadata-key-disc-number
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_DISC_NUMBER|
    raise build, field int

force get-metadata-key-duration
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_DURATION|
    raise build, field int

force get-metadata-key-exif-length
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_EXIF_LENGTH|
    raise build, field int

force get-metadata-key-exif-offset
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_EXIF_OFFSET|
    raise build, field int

force get-metadata-key-genre
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_GENRE|
    raise build, field int

force get-metadata-key-has-audio
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_HAS_AUDIO|
    raise build, field int

force get-metadata-key-has-image
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_HAS_IMAGE|
    raise build, field int

force get-metadata-key-has-video
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_HAS_VIDEO|
    raise build, field int

force get-metadata-key-image-count
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_IMAGE_COUNT|
    raise build, field int

force get-metadata-key-image-height
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_IMAGE_HEIGHT|
    raise build, field int

force get-metadata-key-image-primary
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_IMAGE_PRIMARY|
    raise build, field int

force get-metadata-key-image-rotation
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_IMAGE_ROTATION|
    raise build, field int

force get-metadata-key-image-width
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_IMAGE_WIDTH|
    raise build, field int

force get-metadata-key-location
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_LOCATION|
    raise build, field int

force get-metadata-key-mimetype
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_MIMETYPE|
    raise build, field int

force get-metadata-key-num-tracks
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_NUM_TRACKS|
    raise build, field int

force get-metadata-key-title
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_TITLE|
    raise build, field int

force get-metadata-key-video-frame-count
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_VIDEO_FRAME_COUNT|
    raise build, field int

force get-metadata-key-video-height
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_VIDEO_HEIGHT|
    raise build, field int

force get-metadata-key-video-rotation
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_VIDEO_ROTATION|
    raise build, field int

force get-metadata-key-video-width
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_VIDEO_WIDTH|
    raise build, field int

force get-metadata-key-writer
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_WRITER|
    raise build, field int

force get-metadata-key-year
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |METADATA_KEY_YEAR|
    raise build, field int

force get-option-closest
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |OPTION_CLOSEST|
    raise build, field int

force get-option-closest-sync
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |OPTION_CLOSEST_SYNC|
    raise build, field int

force get-option-next-sync
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |OPTION_NEXT_SYNC|
    raise build, field int

force get-option-previous-sync
  mount build, field media-metadata-retriever

  cause get-property
    drive object, share build
    drive property, |OPTION_PREVIOUS_SYNC|
    raise build, field int

force build-media-metadata-retriever
  cause invoke-constructor
    drive constructor, |MediaMetadataRetriever|
    raise build, field media-metadata-retriever

force close
  mount build, field media-metadata-retriever

  cause call-method
    drive object, share build
    drive method, |close|
    raise build, field unit

force extract-metadata
  mount build, field media-metadata-retriever
  mount key-code, field int

  cause call-method
    drive object, share build
    drive method, |extractMetadata|
    drive factor, share key-code
    raise build, field string

force get-embedded-picture
  mount build, field media-metadata-retriever

  cause call-method
    drive object, share build
    drive method, |getEmbeddedPicture|
    raise build, field byte-array

force get-frame-at-index
  mount build, field media-metadata-retriever
  mount frame-index, field int
  mount params, field media-metadata-retriever-bitmap-params

  cause call-method
    drive object, share build
    drive method, |getFrameAtIndex|
    drive factor, share frame-index
    drive factor, share params
    raise build, field bitmap

force get-frame-at-index
  mount build, field media-metadata-retriever
  mount frame-index, field int

  cause call-method
    drive object, share build
    drive method, |getFrameAtIndex|
    drive factor, share frame-index
    raise build, field bitmap

force get-frame-at-time
  mount build, field media-metadata-retriever
  mount time-us, field long
  mount option, field int

  cause call-method
    drive object, share build
    drive method, |getFrameAtTime|
    drive factor, share time-us
    drive factor, share option
    raise build, field bitmap

force get-frame-at-time
  mount build, field media-metadata-retriever
  mount time-us, field long
  mount option, field int
  mount params, field media-metadata-retriever-bitmap-params

  cause call-method
    drive object, share build
    drive method, |getFrameAtTime|
    drive factor, share time-us
    drive factor, share option
    drive factor, share params
    raise build, field bitmap

force get-frame-at-time
  mount build, field media-metadata-retriever
  mount time-us, field long

  cause call-method
    drive object, share build
    drive method, |getFrameAtTime|
    drive factor, share time-us
    raise build, field bitmap

force get-frame-at-time
  mount build, field media-metadata-retriever

  cause call-method
    drive object, share build
    drive method, |getFrameAtTime|
    raise build, field bitmap

force get-frames-at-index
  mount build, field media-metadata-retriever
  mount frame-index, field int
  mount num-frames, field int
  mount params, field media-metadata-retriever-bitmap-params

  cause call-method
    drive object, share build
    drive method, |getFramesAtIndex|
    drive factor, share frame-index
    drive factor, share num-frames
    drive factor, share params
    raise build, field mutable-list

force get-frames-at-index
  mount build, field media-metadata-retriever
  mount frame-index, field int
  mount num-frames, field int

  cause call-method
    drive object, share build
    drive method, |getFramesAtIndex|
    drive factor, share frame-index
    drive factor, share num-frames
    raise build, field mutable-list

force get-image-at-index
  mount build, field media-metadata-retriever
  mount image-index, field int
  mount params, field media-metadata-retriever-bitmap-params

  cause call-method
    drive object, share build
    drive method, |getImageAtIndex|
    drive factor, share image-index
    drive factor, share params
    raise build, field bitmap

force get-image-at-index
  mount build, field media-metadata-retriever
  mount image-index, field int

  cause call-method
    drive object, share build
    drive method, |getImageAtIndex|
    drive factor, share image-index
    raise build, field bitmap

force get-primary-image
  mount build, field media-metadata-retriever
  mount params, field media-metadata-retriever-bitmap-params

  cause call-method
    drive object, share build
    drive method, |getPrimaryImage|
    drive factor, share params
    raise build, field bitmap

force get-primary-image
  mount build, field media-metadata-retriever

  cause call-method
    drive object, share build
    drive method, |getPrimaryImage|
    raise build, field bitmap

force get-scaled-frame-at-time
  mount build, field media-metadata-retriever
  mount time-us, field long
  mount option, field int
  mount dst-width, field int
  mount dst-height, field int

  cause call-method
    drive object, share build
    drive method, |getScaledFrameAtTime|
    drive factor, share time-us
    drive factor, share option
    drive factor, share dst-width
    drive factor, share dst-height
    raise build, field bitmap

force get-scaled-frame-at-time
  mount build, field media-metadata-retriever
  mount time-us, field long
  mount option, field int
  mount dst-width, field int
  mount dst-height, field int
  mount params, field media-metadata-retriever-bitmap-params

  cause call-method
    drive object, share build
    drive method, |getScaledFrameAtTime|
    drive factor, share time-us
    drive factor, share option
    drive factor, share dst-width
    drive factor, share dst-height
    drive factor, share params
    raise build, field bitmap

force release
  mount build, field media-metadata-retriever

  cause call-method
    drive object, share build
    drive method, |release|
    raise build, field unit

force set-data-source
  mount build, field media-metadata-retriever
  mount path, field string

  cause call-method
    drive object, share build
    drive method, |setDataSource|
    drive factor, share path
    raise build, field unit

force set-data-source
  mount build, field media-metadata-retriever
  mount uri, field string
  mount headers, field mutable-map-string
  mount string, field undefined

  cause call-method
    drive object, share build
    drive method, |setDataSource|
    drive factor, share uri
    drive factor, share headers
    drive factor, share string
    raise build, field unit

force set-data-source
  mount build, field media-metadata-retriever
  mount fd, field file-descriptor
  mount offset, field long
  mount length, field long

  cause call-method
    drive object, share build
    drive method, |setDataSource|
    drive factor, share fd
    drive factor, share offset
    drive factor, share length
    raise build, field unit

force set-data-source
  mount build, field media-metadata-retriever
  mount fd, field file-descriptor

  cause call-method
    drive object, share build
    drive method, |setDataSource|
    drive factor, share fd
    raise build, field unit

force set-data-source
  mount build, field media-metadata-retriever
  mount context, field context
  mount uri, field uri

  cause call-method
    drive object, share build
    drive method, |setDataSource|
    drive factor, share context
    drive factor, share uri
    raise build, field unit

force set-data-source
  mount build, field media-metadata-retriever
  mount data-source, field media-data-source

  cause call-method
    drive object, share build
    drive method, |setDataSource|
    drive factor, share data-source
    raise build, field unit
