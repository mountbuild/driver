force get-device
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |device|
    raise build, field mtl-device

force set-device
  field build, field ca-metal-layer
  field value, field mtl-device

  cause set-aspect
    drive object, share build
    drive aspect, |device|
    drive factor, share value

force get-preferred-device
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |preferredDevice|
    raise build, field mtl-device

force set-preferred-device
  field build, field ca-metal-layer
  field value, field mtl-device

  cause set-aspect
    drive object, share build
    drive aspect, |preferredDevice|
    drive factor, share value

force get-pixel-format
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |pixelFormat|
    raise build, field mtl-pixel-format

force set-pixel-format
  field build, field ca-metal-layer
  field value, field mtl-pixel-format

  cause set-aspect
    drive object, share build
    drive aspect, |pixelFormat|
    drive factor, share value

force get-colorspace
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |colorspace|
    raise build, field cg-color-space

force set-colorspace
  field build, field ca-metal-layer
  field value, field cg-color-space

  cause set-aspect
    drive object, share build
    drive aspect, |colorspace|
    drive factor, share value

force get-framebuffer-only
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |framebufferOnly|
    raise build, field bool

force set-framebuffer-only
  field build, field ca-metal-layer
  field value, field bool

  cause set-aspect
    drive object, share build
    drive aspect, |framebufferOnly|
    drive factor, share value

force get-drawable-size
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |drawableSize|
    raise build, field cg-size

force set-drawable-size
  field build, field ca-metal-layer
  field value, field cg-size

  cause set-aspect
    drive object, share build
    drive aspect, |drawableSize|
    drive factor, share value

force get-presents-with-transaction
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |presentsWithTransaction|
    raise build, field bool

force set-presents-with-transaction
  field build, field ca-metal-layer
  field value, field bool

  cause set-aspect
    drive object, share build
    drive aspect, |presentsWithTransaction|
    drive factor, share value

force get-display-sync-enabled
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |displaySyncEnabled|
    raise build, field bool

force set-display-sync-enabled
  field build, field ca-metal-layer
  field value, field bool

  cause set-aspect
    drive object, share build
    drive aspect, |displaySyncEnabled|
    drive factor, share value

force get-wants-extended-dynamic-range-content
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |wantsExtendedDynamicRangeContent|
    raise build, field bool

force set-wants-extended-dynamic-range-content
  field build, field ca-metal-layer
  field value, field bool

  cause set-aspect
    drive object, share build
    drive aspect, |wantsExtendedDynamicRangeContent|
    drive factor, share value

force get-edr-metadata
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |edrMetadata|
    raise build, field caedr-metadata

force set-edr-metadata
  field build, field ca-metal-layer
  field value, field caedr-metadata

  cause set-aspect
    drive object, share build
    drive aspect, |edrMetadata|
    drive factor, share value

force next-drawable
  field build, field ca-metal-layer

  cause call-method
    drive object, share build
    drive method, |nextDrawable|
    raise build, class ca-metal-drawable

force get-maximum-drawable-count
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |maximumDrawableCount|
    raise build, field int

force set-maximum-drawable-count
  field build, field ca-metal-layer
  field value, field int

  cause set-aspect
    drive object, share build
    drive aspect, |maximumDrawableCount|
    drive factor, share value

force get-allows-next-drawable-timeout
  field build, field ca-metal-layer

  cause get-aspect
    drive object, share build
    drive aspect, |allowsNextDrawableTimeout|
    raise build, field bool

force set-allows-next-drawable-timeout
  field build, field ca-metal-layer
  field value, field bool

  cause set-aspect
    drive object, share build
    drive aspect, |allowsNextDrawableTimeout|
    drive factor, share value
